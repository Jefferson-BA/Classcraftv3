<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class Combat Dashboard - Ruleta de Eventos</title>
    <link rel="stylesheet" href="app/dashboard/teacher-tools/examen/examen.component.css">

</head>

<body>
    <!-- Navbar Principal -->
    <nav class="re-navbar">
        <div class="re-nav-left">
            <div class="re-logo">
                <div class="re-logo-circle">
                    <span class="re-logo-text">CC</span>
                </div>
                <span class="re-logo-title">CLASS COMBAT</span>
            </div>
        </div>
        <div class="re-nav-right">
            <button class="re-nav-btn re-update-btn">
                <i class="fas fa-sync-alt"></i>
                Actualizar
            </button>
            <button class="re-nav-btn re-invite-btn" ng-click="vm.openCreateForm()">
                <i class="fas fa-user-plus"></i>
                <span>Crear nueva Clase</span>
            </button>
            <div class="re-profile-btn">
                <i class="fas fa-user"></i>
            </div>
        </div>
    </nav>

    <!-- Contenido principal -->
    <div class="re-main-container">
        <!-- Sidebar fijo -->
        <aside class="re-sidebar">
            <div class="re-sidebar-content">
                <nav class="re-sidebar-nav">
                    <a href="" class="re-nav-item re-active" data-section="home">
                        <img src="app/image/icons/inicio.png" alt="Inicio" class="re-nav-icon">
                        <span class="re-nav-label">Inicio</span>
                    </a>
                    <a href="#" class="re-nav-item" data-section="classes">
                        <img src="app/image/icons/batalla.png" alt="Clases" class="re-nav-icon">
                        <span class="re-nav-label">Mis Clases</span>
                    </a>
                    <a href="#" class="re-nav-item" data-section="exams">
                        <img src="app/image/icons/examen.png" alt="Ex√°menes" class="re-nav-icon">
                        <span class="re-nav-label">Ex√°menes</span>
                    </a>
                    <a href="#" class="re-nav-item" data-section="map">
                        <img src="app/image/icons/mapa.png" alt="Mapa" class="re-nav-icon">
                        <span class="re-nav-label">Mapa</span>
                    </a>
                    <a href="#" class="re-nav-item" data-section="missions">
                        <img src="app/image/icons/mision.png" alt="Misiones" class="re-nav-icon">
                        <span class="re-nav-label">Misiones</span>
                    </a>
                    <a href="#" class="re-nav-item" data-section="roulette">
                        <img src="app/image/icons/ruleta.png" alt="Ruleta" class="re-nav-icon">
                        <span class="re-nav-label">Ruleta</span>
                    </a>
                    <a href="#" class="re-nav-item" data-section="telescope">
                        <img src="app/image/icons/telescopio.png" alt="Telescopio" class="re-nav-icon">
                        <span class="re-nav-label">Telescopio</span>
                    </a>
                    <a href="#" class="re-nav-item" data-section="stats">
                        <img src="app/image/icons/estadistica.png" alt="Estad√≠sticas" class="re-nav-icon">
                        <span class="re-nav-label">Estad√≠sticas</span>
                    </a>
                    <a href="#" class="re-nav-item" data-section="comments">
                        <img src="app/image/icons/comentarios.png" alt="Comentarios" class="re-nav-icon">
                        <span class="re-nav-label">Comentarios</span>
                    </a>
                    <a href="#" class="re-nav-item" data-section="claims">
                        <img src="app/image/icons/reclamacion.png" alt="Reclamaciones" class="re-nav-icon">
                        <span class="re-nav-label">Reclamaciones</span>
                    </a>
                </nav>

                <div class="re-sidebar-bottom">
                    <div class="re-user-profile-image">
                        <img src="app/image/icons/ig.png" alt="Foto del profesor" class="re-profile-image">
                        <div class="re-profile-frame"></div>
                    </div>
                    <button class="re-settings-btn">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>
            </div>


        </aside>

        <div class="re-content-area">
            <button ng-if="!vm.showForm" ng-click="vm.showCreateForm()" class="re-btn re-btn-primary">Crear nuevo
                examen</button>

            <form ng-if="vm.showForm" ng-submit="vm.createExam()" class="re-exam-form">
                <h2>Crear Examen</h2>
                <div class="re-form-group">
                    <label class="re-form-label">T√≠tulo</label>
                    <input ng-model="vm.exam.titulo" class="re-form-control" placeholder="T√≠tulo" required>
                </div>
                <div class="re-form-group">
                    <label class="re-form-label">Descripci√≥n</label>
                    <textarea ng-model="vm.exam.descripcion" class="re-form-control"
                        placeholder="Descripci√≥n"></textarea>
                </div>
                <div class="re-form-group">
                    <label class="re-form-label">URL de imagen (opcional)</label>
                    <input ng-model="vm.exam.imagen" class="re-form-control" placeholder="URL de imagen (opcional)">
                </div>
                <div class="re-form-group">
                    <label class="re-form-label">Tiempo (min)</label>
                    <input ng-model="vm.exam.tiempo_limite" class="re-form-control" type="number"
                        placeholder="Tiempo (min)" required>
                </div>
                <div class="re-form-group">
                    <label class="re-form-label">XP total</label>
                    <input ng-model="vm.exam.xp_total" class="re-form-control" type="number" placeholder="XP total"
                        required>
                </div>

                <div ng-repeat="p in vm.exam.preguntas" class="re-form-group">
                    <label class="re-form-label">Pregunta {{$index + 1}}</label>
                    <input ng-model="p.pregunta" class="re-form-control" placeholder="Pregunta" required>
                    <input ng-model="p.imagen" class="re-form-control" placeholder="URL imagen (opcional)">
                    <input ng-model="p.puntaje" class="re-form-control" type="number" placeholder="Puntaje" required>
                </div>
                <button type="button" class="re-btn re-btn-secondary" ng-click="vm.addPregunta()">Agregar
                    pregunta</button>
                <button type="submit" class="re-btn re-btn-primary">Crear examen</button>
            </form>

            <div class="re-my-exams-section">
                <div class="re-section-header">
                    <h2 class="re-my-exams-title">Mis Ex√°menes</h2>
                    <div class="re-title-decoration"></div>
                </div>
                <div class="re-exams-container">
                    <ul class="re-exams-list">
                        <li ng-repeat="examen in vm.examenes track by examen.id" class="re-exam-item">
                            <div class="re-exam-content">
                                <div class="re-exam-info">
                                    <span class="re-exam-title">{{examen.titulo}}</span>
                                    <span class="re-exam-separator">-</span>
                                    <span class="re-exam-description">{{examen.descripcion}}</span>
                                </div>
                                <div class="re-exam-actions">
                                    <button ng-click="vm.viewExamDetails(examen)" class="re-exam-details-btn">
                                        <span class="re-btn-text">Ver detalles</span>
                                        <span class="re-btn-icon">üëÅÔ∏è</span>
                                    </button>
                                </div>
                            </div>
                            <div class="re-exam-overlay"></div>
                        </li>
                    </ul>
                </div>
            </div>

            <div ng-if="vm.selectedExam" class="re-exam-students-section">
                <div class="re-exam-header">
                    <h3 class="re-exam-students-title">Alumnos en examen: {{vm.selectedExam.titulo}}</h3>
                </div>
                <div class="re-students-container">
                    <ul class="re-students-grid">
                        <li ng-repeat="alumno in vm.examStudents track by alumno.id" class="re-student-card">
                            <div class="re-student-info">
                                <span class="re-student-name">{{alumno.nombre}}</span>
                                <div class="re-student-status">
                                    <span ng-if="alumno.estado === 'finalizado'"
                                        class="re-status-badge re-status-completed">Finaliz√≥</span>
                                    <span ng-if="alumno.estado === 'pendiente'"
                                        class="re-status-badge re-status-pending">Falta iniciar</span>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>



    </div>






</body>

</html>