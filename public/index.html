<!DOCTYPE html>
<html ng-app="app">

<head>
  <meta charset="UTF-8" />
  <title>ClassCraft</title>
  <base href="/" />

</head>

<body ng-controller="MainLayoutController as main">
  <!-- Navbar solo si no es ruta especial -->
  <navbar-component ng-if="!main.hideLayout()"></navbar-component>

  <!-- Aquí se carga el contenido según la ruta -->
  <div ng-view></div>

  <!-- Footer solo si no es ruta especial -->
  <footer-component ng-if="!main.hideLayout()"></footer-component>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!-- AngularJS core -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular-route.min.js"></script>

  <!-- Módulo raíz -->
  <script src="app/app.module.js"></script>

  <!-- Servicios -->
  <script src="app/core/auth.service.js"></script>
  <script src="app/core/class.service.js"></script>

  <!-- Componentes de autenticación -->
  <script src="app/auth/login/login.component.js"></script>
  <script src="app/auth/register/register.component.js"></script>
  <script src="app/auth/register-alumno/registerAlumno.component.js"></script>
  <script src="app/auth/login-alumno/loginAlumno.template.js"></script>
  <script src="app/dashboard/Alumno.component.js"></script>

  <!-- Componentes de layout -->
  <script src="app/layout/navbar/navbar.component.js"></script>
  <script src="app/layout/footer/footer.component.js"></script>

  <!-- Componente del maestro -->
  <script src="app/dashboard/teacher.component.js"></script>
  <script src="app/dashboard/teacher-tools/classroom/classroom.component.js"></script>

  <script src="app/dashboard/teacher-tools/examen/examen.service.js"></script>

  <script src="app/dashboard/Alumno-tools/examen/examen.component.js"></script>

  <!-- En public/index.html, dentro del <head> -->
  <script src="app/dashboard/teacher-tools/examen/examen.component.js"></script>

  <!-- Componente de selección de rol -->
  <script src="app/enrollment/role-selection.component.js"></script>


  <script src="app/core/student.service.js"></script>
  <!-- Página principal -->
  <script src="app/home/home.component.js"></script>
  <script src="app/dashboard/Alumno-tools/classroom/classroom.component.js"></script>


  <script src="app/dashboard/Alumno-tools/examen/examen-list.component.js"></script>

  <!-- Componente de creación de personaje -->

  <script src="app/dashboard/teacher-tools/random-events/randomEvents.component.js"></script>
  <link rel="stylesheet" href="app/dashboard/teacher-tools/random-events/randomEvents.component.css">

  <script src="app/dashboard/Alumno-tools/character-creation/characterCreation.component.js"></script>

  <!-- Rutas -->
  <script src="app/app.routes.js"></script>

  <!-- Controlador para ocultar navbar/footer en rutas específicas -->
  <script>
    angular.module('app').controller('MainLayoutController', function ($location) {
      this.hideLayout = function () {
        const path = $location.path();
        return (
          path === '/teacher/role-selection.component.html' ||
          path === '/auth/register' ||
          path === '/login/teacher' ||
          path === '/dashboard/teacher' ||
          path === '/classroom' ||
          path === '/register/alumno' ||
          path === '/login/alumno' ||
          path == '/dashboard/alumno' ||
          path === '/alumno/classroom' ||
          path === '/random-events' ||
          path === '/dashboard/teacher/examen/create' ||
          path === '/dashboard/alumno/examenes'
        );
      };
    });
  </script>
</body>

</html>