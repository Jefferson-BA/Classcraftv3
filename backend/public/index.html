<!DOCTYPE html>
<html ng-app="app">

<head>
  <meta charset="UTF-8" />
  <title>ClassCraft</title>
  <base href="/" />
  <link rel="stylesheet" href="css/style.css" />
</head>

<body ng-controller="MainLayoutController as main">
  <!-- Navbar solo si no es ruta especial -->
  <navbar-component ng-if="!main.hideLayout()"></navbar-component>

  <!-- Aquí se carga el contenido según la ruta -->
  <div ng-view></div>

  <!-- Footer solo si no es ruta especial -->
  <footer-component ng-if="!main.hideLayout()"></footer-component>

  <!-- AngularJS core -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
  <!-- AngularJS principal -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular-route.min.js"></script> <!-- Routing -->

  <!-- Servicios (deben ir antes que los módulos y controladores que los usan) -->
  <script src="app/core/auth.service.js"></script> <!-- Servicio de autenticación -->

  <!-- Módulo raíz y configuración de rutas -->
  <script src="app/app.module.js"></script> <!-- Define el módulo principal -->
  <script src="app/app.routes.js"></script> <!-- Define las rutas de la app -->

  <!-- Componentes de autenticación -->
  <script src="app/auth/login/login.component.js"></script> <!-- Componente de login -->
  <script src="app/auth/register/register.component.js"></script> <!-- Componente de registro -->

  <!-- Componentes de layout -->
  <script src="app/layout/navbar/navbar.component.js"></script> <!-- Navbar -->
  <script src="app/layout/footer/footer.component.js"></script> <!-- Footer -->

  <!-- Componente del maestro -->
  <script src="app/dashboard/teacher.component.js"></script>
  <!-- Componente de selección de rol -->
  <script src="app/enrollment/role-selection.component.js"></script> <!-- Selección de rol (maestro/alumno/padre) -->

  <!-- Página principal -->
  <script src="app/home/home.component.js"></script> <!-- Componente de la página principal -->

  <!-- Componente del maestro -->

  <!-- Controlador para ocultar navbar/footer en rutas específicas -->
  <script>
  angular.module('app').controller('MainLayoutController', function ($location) {
    this.hideLayout = function () {
      // Oculta navbar/footer en selección de rol, registro, login y dashboard del maestro
      const path = $location.path();
      return (
        path === '/teacher/role-selection.component.html' ||
        path === '/auth/register' ||
        path === '/login/teacher' ||
        path === '/dashboard/teacher'
      );
    };
  });
</script>
</body>

</html>